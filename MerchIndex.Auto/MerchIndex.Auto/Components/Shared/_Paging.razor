
<style>
    .page-item{
        width: 50px;
        text-align: center;
    }
</style>
<nav>
    <ul class="pagination">
        <li class="page-item @(_currentPage == 1 ? "disabled" : null)" @onclick="@(() => {_currentPage = 1;})">
            <a class="page-link" href="javascript:void(0);" title="Första">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        <li class="page-item @(_currentPage == 1 ? "disabled" : null)" @onclick="@(() => {_currentPage = _currentPage >=1 ? _currentPage - 1 : 1;})">
            <a class="page-link" href="javascript:void(0);" title="Förra">
                <span aria-hidden="true">&lsaquo;</span>
            </a>
        </li>

        @if (_totalPages <= ((2 * Radius) + 1))
        {
            @for (int i = 1; i <= _totalPages; i++)
            {
                <li class="page-item @(_currentPage == i ? "active" : null)"><a class="page-link" href="javascript:void(0);">@i</a></li>
            }
        }
        else
        {
            if (_currentPage <= (Radius + 1))
            {
                for (int i = 1; i <= ((2 * Radius) + 1); i++)
                {
                    <li class="page-item @(_currentPage == i ? "active" : null)"><a class="page-link" href="javascript:void(0);">@i</a></li>
                }
                <li class="page-item"><span class="page-link"><i class="bi bi-three-dots"></i></span></li>

            }
            else if ((_currentPage > (Radius + 1)) && _currentPage <= (_totalPages - (Radius + 1)))
            {
                <li class="page-item"><span class="page-link"><i class="bi bi-three-dots"></i></span></li>

                for (int i = _currentPage - Radius; i <= _currentPage + Radius; i++)
                {
                    <li class="page-item @(_currentPage == i ? "active" : null)"><a class="page-link" href="javascript:void(0);">@i</a></li>
                }
                <li class="page-item"><span class="page-link"><i class="bi bi-three-dots"></i></span></li>
            }
            else
            {
                <li class="page-item"><span class="page-link"><i class="bi bi-three-dots"></i></span></li>

                for (int i = _totalPages - (2 * Radius) ; i <= _totalPages; i++)
                {
                    <li class="page-item @(_currentPage == i ? "active" : null)"><a class="page-link" href="javascript:void(0);">@i</a></li>
                }
            }
        }

        <li class="page-item @(_currentPage == _totalPages ? "disabled" : null)" @onclick="@(() => {_currentPage = _currentPage < _totalPages ? _currentPage + 1 : _totalPages;})">
            <a class="page-link" href="javascript:void(0);" title="Nästa">
                <span aria-hidden="true">&rsaquo;</span>
            </a>
        </li>
        <li class="page-item" @onclick="@(() => {_currentPage = _totalPages;})">
            <a class="page-link @(_currentPage == _totalPages ? "disabled" : null)" href="javascript:void(0);" title="Sista">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>

@code {
    [Parameter] public int TotalItems { get; set; } = 1;
    [Parameter] public int Radius { get; set; }
    private int _itemsPerPage = 100;
    private int _currentPage = 1;
    private int _totalPages = 1;
    // private int _radius = 3;

    protected override void OnParametersSet()
    {
        Radius = 3;
        _totalPages = (int)Math.Ceiling(TotalItems / (double)_itemsPerPage);
    }

    private void next()
    {
        _currentPage++;
    }
}
